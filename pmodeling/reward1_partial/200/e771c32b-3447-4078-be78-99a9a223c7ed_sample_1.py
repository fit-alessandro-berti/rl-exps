import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

site_survey = Transition(label='Site Survey')
climate_plan = Transition(label='Climate Plan')
system_design = Transition(label='System Design')
ai_setup = Transition(label='AI Setup')
seed_sourcing = Transition(label='Seed Sourcing')
nutrient_mix = Transition(label='Nutrient Mix')
install_hydro = Transition(label='Install Hydro')
energy_audit = Transition(label='Energy Audit')
staff_training = Transition(label='Staff Training')
trial_growth = Transition(label='Trial Growth')
yield_measure = Transition(label='Yield Measure')
waste_cycle = Transition(label='Waste Cycle')
compliance_check = Transition(label='Compliance Check')
market_study = Transition(label='Market Study')
community_meet = Transition(label='Community Meet')
optimize_environment = Transition(label='Optimize Environment')

skip = SilentTransition()
loop = OperatorPOWL(operator=Operator.LOOP, children=[system_design, climate_plan])
xor = OperatorPOWL(operator=Operator.XOR, children=[seed_sourcing, nutrient_mix])
xor2 = OperatorPOWL(operator=Operator.XOR, children=[ai_setup, energy_audit])
xor3 = OperatorPOWL(operator=Operator.XOR, children=[staff_training, trial_growth])
xor4 = OperatorPOWL(operator=Operator.XOR, children=[yield_measure, waste_cycle])
xor5 = OperatorPOWL(operator=Operator.XOR, children=[compliance_check, market_study])
xor6 = OperatorPOWL(operator=Operator.XOR, children=[community_meet, optimize_environment])
root = StrictPartialOrder(nodes=[site_survey, loop, xor, xor2, xor3, xor4, xor5, xor6])
root.order.add_edge(site_survey, loop)
root.order.add_edge(site_survey, xor)
root.order.add_edge(site_survey, xor2)
root.order.add_edge(site_survey, xor3)
root.order.add_edge(site_survey, xor4)
root.order.add_edge(site_survey, xor5)
root.order.add_edge(site_survey, xor6)