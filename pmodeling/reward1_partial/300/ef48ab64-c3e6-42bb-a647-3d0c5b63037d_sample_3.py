import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

SiteSelect = Transition(label='Site Select')
EnvAssess = Transition(label='Env Assess')
DesignModules = Transition(label='Design Modules')
HydroponicsSetup = Transition(label='Hydroponics Setup')
SoftwareDev = Transition(label='Software Dev')
SeedChoose = Transition(label='Seed Choose')
LEDInstall = Transition(label='LED Install')
TrainStaff = Transition(label='Train Staff')
ComplianceCheck = Transition(label='Compliance Check')
EngageCommunity = Transition(label='Engage Community')
PlantCrops = Transition(label='Plant Crops')
MonitorGrowth = Transition(label='Monitor Growth')
OptimizeYields = Transition(label='Optimize Yields')
WasteManage = Transition(label='Waste Manage')
EnergyAudit = Transition(label='Energy Audit')
WaterRecycle = Transition(label='Water Recycle')

skip = SilentTransition()

# Define the POWL model
SiteSelectToEnvAssess = OperatorPOWL(operator=Operator.XOR, children=[SiteSelect, EnvAssess])
EnvAssessToDesignModules = OperatorPOWL(operator=Operator.XOR, children=[EnvAssess, DesignModules])
DesignModulesToHydroponicsSetup = OperatorPOWL(operator=Operator.XOR, children=[DesignModules, HydroponicsSetup])
HydroponicsSetupToSoftwareDev = OperatorPOWL(operator=Operator.XOR, children=[HydroponicsSetup, SoftwareDev])
SoftwareDevToSeedChoose = OperatorPOWL(operator=Operator.XOR, children=[SoftwareDev, SeedChoose])
SeedChooseToLEDInstall = OperatorPOWL(operator=Operator.XOR, children=[SeedChoose, LEDInstall])
LEDInstallToTrainStaff = OperatorPOWL(operator=Operator.XOR, children=[LEDInstall, TrainStaff])
TrainStaffToComplianceCheck = OperatorPOWL(operator=Operator.XOR, children=[TrainStaff, ComplianceCheck])
ComplianceCheckToEngageCommunity = OperatorPOWL(operator=Operator.XOR, children=[ComplianceCheck, EngageCommunity])
EngageCommunityToPlantCrops = OperatorPOWL(operator=Operator.XOR, children=[EngageCommunity, PlantCrops])
PlantCropsToMonitorGrowth = OperatorPOWL(operator=Operator.XOR, children=[PlantCrops, MonitorGrowth])
MonitorGrowthToOptimizeYields = OperatorPOWL(operator=Operator.XOR, children=[MonitorGrowth, OptimizeYields])
OptimizeYieldsToWasteManage = OperatorPOWL(operator=Operator.XOR, children=[OptimizeYields, WasteManage])
WasteManageToEnergyAudit = OperatorPOWL(operator=Operator.XOR, children=[WasteManage, EnergyAudit])
EnergyAuditToWaterRecycle = OperatorPOWL(operator=Operator.XOR, children=[EnergyAudit, WaterRecycle])

root = StrictPartialOrder(nodes=[SiteSelect, EnvAssess, DesignModules, HydroponicsSetup, SoftwareDev, SeedChoose, LEDInstall, TrainStaff, ComplianceCheck, EngageCommunity, PlantCrops, MonitorGrowth, OptimizeYields, WasteManage, EnergyAudit, WaterRecycle])
root.order.add_edge(SiteSelect, EnvAssess)
root.order.add_edge(EnvAssess, DesignModules)
root.order.add_edge(DesignModules, HydroponicsSetup)
root.order.add_edge(HydroponicsSetup, SoftwareDev)
root.order.add_edge(SoftwareDev, SeedChoose)
root.order.add_edge(SeedChoose, LEDInstall)
root.order.add_edge(LEDInstall, TrainStaff)
root.order.add_edge(TrainStaff, ComplianceCheck)
root.order.add_edge(ComplianceCheck, EngageCommunity)
root.order.add_edge(EngageCommunity, PlantCrops)
root.order.add_edge(PlantCrops, MonitorGrowth)
root.order.add_edge(MonitorGrowth, OptimizeYields)
root.order.add_edge(OptimizeYields, WasteManage)
root.order.add_edge(WasteManage, EnergyAudit)
root.order.add_edge(EnergyAudit, WaterRecycle)

# Print the POWL model
print(root)