from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

site_prep = Transition(label='Site Prep')
seed_select = Transition(label='Seed Select')
nutrient_mix = Transition(label='Nutrient Mix')
planting_rows = Transition(label='Planting Rows')
env_monitor = Transition(label='Env Monitor')
water_adjust = Transition(label='Water Adjust')
pest_control = Transition(label='Pest Control')
growth_check = Transition(label='Growth Check')
light_calibrate = Transition(label='Light Calibrate')
energy_manage = Transition(label='Energy Manage')
harvest_crop = Transition(label='Harvest Crop')
quality_sort = Transition(label='Quality Sort')
pack_goods = Transition(label='Pack Goods')
cold_store = Transition(label='Cold Store')
market_ship = Transition(label='Market Ship')
data_analyze = Transition(label='Data Analyze')

skip = SilentTransition()

site_prep_to_seed_select = OperatorPOWL(operator=Operator.XOR, children=[site_prep, skip])
seed_select_to_nutrient_mix = OperatorPOWL(operator=Operator.XOR, children=[seed_select, skip])
nutrient_mix_to_planting_rows = OperatorPOWL(operator=Operator.XOR, children=[nutrient_mix, skip])
planting_rows_to_env_monitor = OperatorPOWL(operator=Operator.XOR, children=[planting_rows, skip])
env_monitor_to_water_adjust = OperatorPOWL(operator=Operator.XOR, children=[env_monitor, skip])
water_adjust_to_pest_control = OperatorPOWL(operator=Operator.XOR, children=[water_adjust, skip])
pest_control_to_growth_check = OperatorPOWL(operator=Operator.XOR, children=[pest_control, skip])
growth_check_to_light_calibrate = OperatorPOWL(operator=Operator.XOR, children=[growth_check, skip])
light_calibrate_to_energy_manage = OperatorPOWL(operator=Operator.XOR, children=[light_calibrate, skip])
energy_manage_to_harvest_crop = OperatorPOWL(operator=Operator.XOR, children=[energy_manage, skip])
harvest_crop_to_quality_sort = OperatorPOWL(operator=Operator.XOR, children=[harvest_crop, skip])
quality_sort_to_pack_goods = OperatorPOWL(operator=Operator.XOR, children=[quality_sort, skip])
pack_goods_to_cold_store = OperatorPOWL(operator=Operator.XOR, children=[pack_goods, skip])
cold_store_to_market_ship = OperatorPOWL(operator=Operator.XOR, children=[cold_store, skip])
market_ship_to_data_analyze = OperatorPOWL(operator=Operator.XOR, children=[market_ship, skip])

root = StrictPartialOrder(nodes=[site_prep_to_seed_select, seed_select_to_nutrient_mix, nutrient_mix_to_planting_rows, planting_rows_to_env_monitor, env_monitor_to_water_adjust, water_adjust_to_pest_control, pest_control_to_growth_check, growth_check_to_light_calibrate, light_calibrate_to_energy_manage, energy_manage_to_harvest_crop, harvest_crop_to_quality_sort, quality_sort_to_pack_goods, pack_goods_to_cold_store, cold_store_to_market_ship, market_ship_to_data_analyze])
root.order.add_edge(site_prep_to_seed_select, seed_select_to_nutrient_mix)
root.order.add_edge(seed_select_to_nutrient_mix, nutrient_mix_to_planting_rows)
root.order.add_edge(nutrient_mix_to_planting_rows, planting_rows_to_env_monitor)
root.order.add_edge(planting_rows_to_env_monitor, env_monitor_to_water_adjust)
root.order.add_edge(env_monitor_to_water_adjust, water_adjust_to_pest_control)
root.order.add_edge(water_adjust_to_pest_control, pest_control_to_growth_check)
root.order.add_edge(pest_control_to_growth_check, growth_check_to_light_calibrate)
root.order.add_edge(growth_check_to_light_calibrate, light_calibrate_to_energy_manage)
root.order.add_edge(light_calibrate_to_energy_manage, energy_manage_to_harvest_crop)
root.order.add_edge(energy_manage_to_harvest_crop, harvest_crop_to_quality_sort)
root.order.add_edge(harvest_crop_to_quality_sort, quality_sort_to_pack_goods)
root.order.add_edge(quality_sort_to_pack_goods, pack_goods_to_cold_store)
root.order.add_edge(pack_goods_to_cold_store, cold_store_to_market_ship)
root.order.add_edge(cold_store_to_market_ship, market_ship_to_data_analyze)