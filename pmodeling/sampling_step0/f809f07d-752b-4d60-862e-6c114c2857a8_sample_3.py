import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator

# Define the transitions (activities) in the POWL model
provenance_check = Transition(label='Provenance Check')
material_test = Transition(label='Material Test')
archive_search = Transition(label='Archive Search')
expert_review = Transition(label='Expert Review')
three_d_scanning = Transition(label='3D Scanning')
wear_analysis = Transition(label='Wear Analysis')
database_cross = Transition(label='Database Cross')
law_consult = Transition(label='Law Consult')
forgery_detect = Transition(label='Forgery Detect')
certification = Transition(label='Certification')
document_prep = Transition(label='Document Prep')
client_brief = Transition(label='Client Brief')
secure_storage = Transition(label='Secure Storage')
risk_assessment = Transition(label='Risk Assessment')
final_approval = Transition(label='Final Approval')

# Define the silent transitions
skip_provenance_check = SilentTransition()
skip_material_test = SilentTransition()
skip_archive_search = SilentTransition()
skip_expert_review = SilentTransition()
skip_three_d_scanning = SilentTransition()
skip_wear_analysis = SilentTransition()
skip_database_cross = SilentTransition()
skip_law_consult = SilentTransition()
skip_forgery_detect = SilentTransition()
skip_certification = SilentTransition()
skip_document_prep = SilentTransition()
skip_client_brief = SilentTransition()
skip_secure_storage = SilentTransition()
skip_risk_assessment = SilentTransition()
skip_final_approval = SilentTransition()

# Define the exclusive choice operators
exclusive_choice1 = OperatorPOWL(operator=Operator.XOR, children=[provenance_check, skip_provenance_check])
exclusive_choice2 = OperatorPOWL(operator=Operator.XOR, children=[material_test, skip_material_test])
exclusive_choice3 = OperatorPOWL(operator=Operator.XOR, children=[archive_search, skip_archive_search])
exclusive_choice4 = OperatorPOWL(operator=Operator.XOR, children=[expert_review, skip_expert_review])
exclusive_choice5 = OperatorPOWL(operator=Operator.XOR, children=[three_d_scanning, skip_three_d_scanning])
exclusive_choice6 = OperatorPOWL(operator=Operator.XOR, children=[wear_analysis, skip_wear_analysis])
exclusive_choice7 = OperatorPOWL(operator=Operator.XOR, children=[database_cross, skip_database_cross])
exclusive_choice8 = OperatorPOWL(operator=Operator.XOR, children=[law_consult, skip_law_consult])
exclusive_choice9 = OperatorPOWL(operator=Operator.XOR, children=[forgery_detect, skip_forgery_detect])
exclusive_choice10 = OperatorPOWL(operator=Operator.XOR, children=[certification, skip_certification])
exclusive_choice11 = OperatorPOWL(operator=Operator.XOR, children=[document_prep, skip_document_prep])
exclusive_choice12 = OperatorPOWL(operator=Operator.XOR, children=[client_brief, skip_client_brief])
exclusive_choice13 = OperatorPOWL(operator=Operator.XOR, children=[secure_storage, skip_secure_storage])
exclusive_choice14 = OperatorPOWL(operator=Operator.XOR, children=[risk_assessment, skip_risk_assessment])
exclusive_choice15 = OperatorPOWL(operator=Operator.XOR, children=[final_approval, skip_final_approval])

# Define the loop operators
loop1 = OperatorPOWL(operator=Operator.LOOP, children=[exclusive_choice1, exclusive_choice2])
loop2 = OperatorPOWL(operator=Operator.LOOP, children=[exclusive_choice3, exclusive_choice4])
loop3 = OperatorPOWL(operator=Operator.LOOP, children=[exclusive_choice5, exclusive_choice6])
loop4 = OperatorPOWL(operator=Operator.LOOP, children=[exclusive_choice7, exclusive_choice8])
loop5 = OperatorPOWL(operator=Operator.LOOP, children=[exclusive_choice9, exclusive_choice10])
loop6 = OperatorPOWL(operator=Operator.LOOP, children=[exclusive_choice11, exclusive_choice12])
loop7 = OperatorPOWL(operator=Operator.LOOP, children=[exclusive_choice13, exclusive_choice14])
loop8 = OperatorPOWL(operator=Operator.LOOP, children=[exclusive_choice15, exclusive_choice16])

# Define the partial order
root = StrictPartialOrder(nodes=[loop1, loop2, loop3, loop4, loop5, loop6, loop7, loop8])
root.order.add_edge(loop1, exclusive_choice3)
root.order.add_edge(loop1, exclusive_choice5)
root.order.add_edge(loop1, exclusive_choice7)
root.order.add_edge(loop1, exclusive_choice9)
root.order.add_edge(loop1, exclusive_choice11)
root.order.add_edge(loop1, exclusive_choice13)
root.order.add_edge(loop1, exclusive_choice15)
root.order.add_edge(loop2, exclusive_choice1)
root.order.add_edge(loop2, exclusive_choice3)
root.order.add_edge(loop2, exclusive_choice5)
root.order.add_edge(loop2, exclusive_choice7)
root.order.add_edge(loop2, exclusive_choice9)
root.order.add_edge(loop2, exclusive_choice11)
root.order.add_edge(loop2, exclusive_choice13)
root.order.add_edge(loop2, exclusive_choice15)
root.order.add_edge(loop3, exclusive_choice1)
root.order.add_edge(loop3, exclusive_choice3)
root.order.add_edge(loop3, exclusive_choice5)
root.order.add_edge(loop3, exclusive_choice7)
root.order.add_edge(loop3, exclusive_choice9)
root.order.add_edge(loop3, exclusive_choice11)
root.order.add_edge(loop3, exclusive_choice13)
root.order.add_edge(loop3, exclusive_choice15)
root.order.add_edge(loop4, exclusive_choice1)
root.order.add_edge(loop4, exclusive_choice3)
root.order.add_edge(loop4, exclusive_choice5)
root.order.add_edge(loop4, exclusive_choice7)
root.order.add_edge(loop4, exclusive_choice9)
root.order.add_edge(loop4, exclusive_choice11)
root.order.add_edge(loop4, exclusive_choice13)
root.order.add_edge(loop4, exclusive_choice15)
root.order.add_edge(loop5, exclusive_choice1)
root.order.add_edge(loop5, exclusive_choice3)
root.order.add_edge(loop5, exclusive_choice5)
root.order.add_edge(loop5, exclusive_choice7)
root.order.add_edge(loop5, exclusive_choice9)
root.order.add_edge(loop5, exclusive_choice11)
root.order.add_edge(loop5, exclusive_choice13)
root.order.add_edge(loop5, exclusive_choice15)
root.order.add_edge(loop6, exclusive_choice1)
root.order.add_edge(loop6, exclusive_choice3)
root.order.add_edge(loop6, exclusive_choice5)
root.order.add_edge(loop6, exclusive_choice7)
root.order.add_edge(loop6, exclusive_choice9)
root.order.add_edge(loop6, exclusive_choice11)
root.order.add_edge(loop6, exclusive_choice13)
root.order.add_edge(loop6, exclusive_choice15)
root.order.add_edge(loop7, exclusive_choice1)
root.order.add_edge(loop7, exclusive_choice3)
root.order.add_edge(loop7, exclusive_choice5)
root.order.add_edge(loop7, exclusive_choice7)
root.order.add_edge(loop7, exclusive_choice9)
root.order.add_edge(loop7, exclusive_choice11)
root.order.add_edge(loop7, exclusive_choice13)
root.order.add_edge(loop7, exclusive_choice15)
root.order.add_edge(loop8, exclusive_choice1)
root.order.add_edge(loop8, exclusive_choice3)
root.order.add_edge(loop8, exclusive_choice5)
root.order.add_edge(loop8, exclusive_choice7)
root.order.add_edge(loop8, exclusive_choice9)
root.order.add_edge(loop8, exclusive_choice11)
root.order.add_edge(loop8, exclusive_choice13)
root.order.add_edge(loop8, exclusive_choice15)