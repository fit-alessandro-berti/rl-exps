import pm4py
from pm4py.objects.powl.obj import StrictPartialOrder, OperatorPOWL, Transition, SilentTransition
from pm4py.objects.process_tree.obj import Operator
site = Transition(label='Site Review')
impact = Transition(label='Impact Study')
design = Transition(label='Design Plan')
structure = Transition(label='Structure Mod')
hydroponics = Transition(label='Hydroponics Setup')
crop = Transition(label='Crop Select')
nutrient = Transition(label='Nutrient Mix')
pest = Transition(label='Pest Control')
sensor = Transition(label='Sensor Install')
staff = Transition(label='Staff Train')
audit = Transition(label='Compliance Audit')
packaging = Transition(label='Packaging Dev')
logistics = Transition(label='Logistics Plan')
community = Transition(label='Community Engage')
sustainability = Transition(label='Sustainability Check')
skip = SilentTransition()
site_impact = OperatorPOWL(operator=Operator.XOR, children=[site, impact])
design_structure = OperatorPOWL(operator=Operator.XOR, children=[design, structure])
hydroponics_crop = OperatorPOWL(operator=Operator.XOR, children=[hydroponics, crop])
nutrient_pest = OperatorPOWL(operator=Operator.XOR, children=[nutrient, pest])
sensor_staff = OperatorPOWL(operator=Operator.XOR, children=[sensor, staff])
audit_packaging = OperatorPOWL(operator=Operator.XOR, children=[audit, packaging])
logistics_community = OperatorPOWL(operator=Operator.XOR, children=[logistics, community])
sustainability = OperatorPOWL(operator=Operator.XOR, children=[sustainability])
root = StrictPartialOrder(nodes=[site_impact, design_structure, hydroponics_crop, nutrient_pest, sensor_staff, audit_packaging, logistics_community, sustainability])
root.order.add_edge(site_impact, design_structure)
root.order.add_edge(design_structure, hydroponics_crop)
root.order.add_edge(hydroponics_crop, nutrient_pest)
root.order.add_edge(nutrient_pest, sensor_staff)
root.order.add_edge(sensor_staff, audit_packaging)
root.order.add_edge(audit_packaging, logistics_community)
root.order.add_edge(logistics_community, sustainability)